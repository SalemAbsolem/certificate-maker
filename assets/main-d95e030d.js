(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function a(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(s){if(s.ep)return;s.ep=!0;const d=a(s);fetch(s.href,d)}})();var X;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(X||(X={}));var _;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(_||(_={}));function Le(e){return lt(e)&&typeof e.from=="function"}function lt(e){return typeof e=="object"&&typeof e.to=="function"}function qt(e){e.parentElement.removeChild(e)}function Pt(e){return e!=null}function Xt(e){e.preventDefault()}function Me(e){return e.filter(function(t){return this[t]?!1:this[t]=!0},{})}function Ue(e,t){return Math.round(e/t)*t}function Oe(e,t){var a=e.getBoundingClientRect(),o=e.ownerDocument,s=o.documentElement,d=$t(o);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(d.x=0),t?a.top+d.y-s.clientTop:a.left+d.x-s.clientLeft}function R(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Wt(e,t,a){a>0&&(I(e,t),setTimeout(function(){ot(e,t)},a))}function Yt(e){return Math.max(Math.min(e,100),0)}function ut(e){return Array.isArray(e)?e:[e]}function ze(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function I(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function ot(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function Ie(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function $t(e){var t=window.pageXOffset!==void 0,a=(e.compatMode||"")==="CSS1Compat",o=t?window.pageXOffset:a?e.documentElement.scrollLeft:e.body.scrollLeft,s=t?window.pageYOffset:a?e.documentElement.scrollTop:e.body.scrollTop;return{x:o,y:s}}function _e(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function He(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch{}return e}function Be(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function Vt(e,t){return 100/(t-e)}function kt(e,t,a){return t*100/(e[a+1]-e[a])}function Re(e,t){return kt(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function Fe(e,t){return t*(e[1]-e[0])/100+e[0]}function et(e,t){for(var a=1;e>=t[a];)a+=1;return a}function je(e,t,a){if(a>=e.slice(-1)[0])return 100;var o=et(a,e),s=e[o-1],d=e[o],h=t[o-1],g=t[o];return h+Re([s,d],a)/Vt(h,g)}function Te(e,t,a){if(a>=100)return e.slice(-1)[0];var o=et(a,t),s=e[o-1],d=e[o],h=t[o-1],g=t[o];return Fe([s,d],(a-h)*Vt(h,g))}function Ne(e,t,a,o){if(o===100)return o;var s=et(o,e),d=e[s-1],h=e[s];return a?o-d>(h-d)/2?h:d:t[s-1]?e[s-1]+Ue(o-e[s-1],t[s-1]):o}var Gt=function(){function e(t,a,o){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[o||!1],this.xNumSteps=[!1],this.snap=a;var s,d=[];for(Object.keys(t).forEach(function(h){d.push([ut(t[h]),h])}),d.sort(function(h,g){return h[0][0]-g[0][0]}),s=0;s<d.length;s++)this.handleEntryPoint(d[s][1],d[s][0]);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)this.handleStepPoint(s,this.xNumSteps[s])}return e.prototype.getDistance=function(t){for(var a=[],o=0;o<this.xNumSteps.length-1;o++)a[o]=kt(this.xVal,t,o);return a},e.prototype.getAbsoluteDistance=function(t,a,o){var s=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[s+1];)s++;else t===this.xPct[this.xPct.length-1]&&(s=this.xPct.length-2);!o&&t===this.xPct[s+1]&&s++,a===null&&(a=[]);var d,h=1,g=a[s],S=0,p=0,M=0,C=0;for(o?d=(t-this.xPct[s])/(this.xPct[s+1]-this.xPct[s]):d=(this.xPct[s+1]-t)/(this.xPct[s+1]-this.xPct[s]);g>0;)S=this.xPct[s+1+C]-this.xPct[s+C],a[s+C]*h+100-d*100>100?(p=S*d,h=(g-100*d)/a[s+C],d=1):(p=a[s+C]*S/100*h,h=0),o?(M=M-p,this.xPct.length+C>=1&&C--):(M=M+p,this.xPct.length-C>=1&&C++),g=a[s+C]*h;return t+M},e.prototype.toStepping=function(t){return t=je(this.xVal,this.xPct,t),t},e.prototype.fromStepping=function(t){return Te(this.xVal,this.xPct,t)},e.prototype.getStep=function(t){return t=Ne(this.xPct,this.xSteps,this.snap,t),t},e.prototype.getDefaultStep=function(t,a,o){var s=et(t,this.xPct);return(t===100||a&&t===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/o},e.prototype.getNearbySteps=function(t){var a=et(t,this.xPct);return{stepBefore:{startValue:this.xVal[a-2],step:this.xNumSteps[a-2],highestStep:this.xHighestCompleteStep[a-2]},thisStep:{startValue:this.xVal[a-1],step:this.xNumSteps[a-1],highestStep:this.xHighestCompleteStep[a-1]},stepAfter:{startValue:this.xVal[a],step:this.xNumSteps[a],highestStep:this.xHighestCompleteStep[a]}}},e.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(ze);return Math.max.apply(null,t)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(t){return this.getStep(this.toStepping(t))},e.prototype.handleEntryPoint=function(t,a){var o;if(t==="min"?o=0:t==="max"?o=100:o=parseFloat(t),!R(o)||!R(a[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(o),this.xVal.push(a[0]);var s=Number(a[1]);o?this.xSteps.push(isNaN(s)?!1:s):isNaN(s)||(this.xSteps[0]=s),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(t,a){if(a){if(this.xVal[t]===this.xVal[t+1]){this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t];return}this.xSteps[t]=kt([this.xVal[t],this.xVal[t+1]],a,0)/Vt(this.xPct[t],this.xPct[t+1]);var o=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],s=Math.ceil(Number(o.toFixed(3))-1),d=this.xVal[t]+this.xNumSteps[t]*s;this.xHighestCompleteStep[t]=d}},e}(),Kt={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},Jt={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},q={tooltips:".__tooltips",aria:".__aria"};function qe(e,t){if(!R(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function Xe(e,t){if(!R(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function We(e,t){if(!R(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function Ye(e,t){if(!R(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function Ke(e,t){if(typeof t!="object"||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(t.min===void 0||t.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new Gt(t,e.snap||!1,e.singleStep)}function $e(e,t){if(t=ut(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function Ge(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function Je(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function Ze(e,t){if(typeof t!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function Zt(e,t){var a=[!1],o;if(t==="lower"?t=[!0,!1]:t==="upper"&&(t=[!1,!0]),t===!0||t===!1){for(o=1;o<e.handles;o++)a.push(t);a.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a=t}e.connect=a}function Qe(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Qt(e,t){if(!R(t))throw new Error("noUiSlider: 'margin' option must be numeric.");t!==0&&(e.margin=e.spectrum.getDistance(t))}function tr(e,t){if(!R(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function er(e,t){var a;if(!R(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&!(t.length===2||R(t[0])||R(t[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(t!==0){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],a=0;a<e.spectrum.xNumSteps.length-1;a++)if(e.padding[0][a]<0||e.padding[1][a]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var o=t[0]+t[1],s=e.spectrum.xVal[0],d=e.spectrum.xVal[e.spectrum.xVal.length-1];if(o/(d-s)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function rr(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function ir(e,t){if(typeof t!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var a=t.indexOf("tap")>=0,o=t.indexOf("drag")>=0,s=t.indexOf("fixed")>=0,d=t.indexOf("snap")>=0,h=t.indexOf("hover")>=0,g=t.indexOf("unconstrained")>=0,S=t.indexOf("invert-connects")>=0,p=t.indexOf("drag-all")>=0,M=t.indexOf("smooth-steps")>=0;if(s){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Qt(e,e.start[1]-e.start[0])}if(S&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(g&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:a||d,drag:o,dragAll:p,smoothSteps:M,fixed:s,snap:d,hover:h,unconstrained:g,invertConnects:S}}function nr(e,t){if(t!==!1)if(t===!0||lt(t)){e.tooltips=[];for(var a=0;a<e.handles;a++)e.tooltips.push(t)}else{if(t=ut(t),t.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach(function(o){if(typeof o!="boolean"&&!lt(o))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=t}}function ar(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function sr(e,t){if(!lt(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function or(e,t){if(!Le(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function lr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function cr(e,t){e.documentElement=t}function ur(e,t){if(typeof t!="string"&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function fr(e,t){if(typeof t!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(t).forEach(function(a){e.cssClasses[a]=e.cssPrefix+t[a]})):e.cssClasses=t}function te(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Kt,format:Kt},a={step:{r:!1,t:qe},keyboardPageMultiplier:{r:!1,t:Xe},keyboardMultiplier:{r:!1,t:We},keyboardDefaultStep:{r:!1,t:Ye},start:{r:!0,t:$e},connect:{r:!0,t:Zt},direction:{r:!0,t:rr},snap:{r:!1,t:Ge},animate:{r:!1,t:Je},animationDuration:{r:!1,t:Ze},range:{r:!0,t:Ke},orientation:{r:!1,t:Qe},margin:{r:!1,t:Qt},limit:{r:!1,t:tr},padding:{r:!1,t:er},behaviour:{r:!0,t:ir},ariaFormat:{r:!1,t:sr},format:{r:!1,t:or},tooltips:{r:!1,t:nr},keyboardSupport:{r:!0,t:lr},documentElement:{r:!1,t:cr},cssPrefix:{r:!0,t:ur},cssClasses:{r:!0,t:fr},handleAttributes:{r:!1,t:ar}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Jt,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(a).forEach(function(S){if(!Pt(e[S])&&o[S]===void 0){if(a[S].r)throw new Error("noUiSlider: '"+S+"' is required.");return}a[S].t(t,Pt(e[S])?e[S]:o[S])}),t.pips=e.pips;var s=document.createElement("div"),d=s.style.msTransform!==void 0,h=s.style.transform!==void 0;t.transformRule=h?"transform":d?"msTransform":"webkitTransform";var g=[["left","top"],["right","bottom"]];return t.style=g[t.dir][t.ort],t}function dr(e,t,a){var o=_e(),s=Be(),d=s&&He(),h=e,g,S,p,M,C,F,x=t.spectrum,j=[],A=[],B=[],ft=0,T={},J=!1,$=e.ownerDocument,rt=t.documentElement||$.documentElement,it=$.body,ie=$.dir==="rtl"||t.ort===1?0:100;function N(r,i){var n=$.createElement("div");return i&&I(n,i),r.appendChild(n),n}function ne(r,i){var n=N(r,t.cssClasses.origin),l=N(n,t.cssClasses.handle);if(N(l,t.cssClasses.touchArea),l.setAttribute("data-handle",String(i)),t.keyboardSupport&&(l.setAttribute("tabindex","0"),l.addEventListener("keydown",function(u){return we(u,i)})),t.handleAttributes!==void 0){var c=t.handleAttributes[i];Object.keys(c).forEach(function(u){l.setAttribute(u,c[u])})}return l.setAttribute("role","slider"),l.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),i===0?I(l,t.cssClasses.handleLower):i===t.handles-1&&I(l,t.cssClasses.handleUpper),n.handle=l,n}function dt(r,i){return i?N(r,t.cssClasses.connect):!1}function ae(r,i){S=N(i,t.cssClasses.connects),p=[],M=[],M.push(dt(S,r[0]));for(var n=0;n<t.handles;n++)p.push(ne(i,n)),B[n]=n,M.push(dt(S,r[n+1]))}function se(r){I(r,t.cssClasses.target),t.dir===0?I(r,t.cssClasses.ltr):I(r,t.cssClasses.rtl),t.ort===0?I(r,t.cssClasses.horizontal):I(r,t.cssClasses.vertical);var i=getComputedStyle(r).direction;return i==="rtl"?I(r,t.cssClasses.textDirectionRtl):I(r,t.cssClasses.textDirectionLtr),N(r,t.cssClasses.base)}function oe(r,i){return!t.tooltips||!t.tooltips[i]?!1:N(r.firstChild,t.cssClasses.tooltip)}function Dt(){return h.hasAttribute("disabled")}function ht(r){var i=p[r];return i.hasAttribute("disabled")}function le(r){r!=null?(p[r].setAttribute("disabled",""),p[r].handle.removeAttribute("tabindex")):(h.setAttribute("disabled",""),p.forEach(function(i){i.handle.removeAttribute("tabindex")}))}function ce(r){r!=null?(p[r].removeAttribute("disabled"),p[r].handle.setAttribute("tabindex","0")):(h.removeAttribute("disabled"),p.forEach(function(i){i.removeAttribute("disabled"),i.handle.setAttribute("tabindex","0")}))}function vt(){F&&(Z("update"+q.tooltips),F.forEach(function(r){r&&qt(r)}),F=null)}function Lt(){vt(),F=p.map(oe),St("update"+q.tooltips,function(r,i,n){if(!(!F||!t.tooltips)&&F[i]!==!1){var l=r[i];t.tooltips[i]!==!0&&(l=t.tooltips[i].to(n[i])),F[i].innerHTML=l}})}function ue(){Z("update"+q.aria),St("update"+q.aria,function(r,i,n,l,c){B.forEach(function(u){var v=p[u],f=nt(A,u,0,!0,!0,!0),b=nt(A,u,100,!0,!0,!0),E=c[u],P=String(t.ariaFormat.to(n[u]));f=x.fromStepping(f).toFixed(1),b=x.fromStepping(b).toFixed(1),E=x.fromStepping(E).toFixed(1),v.children[0].setAttribute("aria-valuemin",f),v.children[0].setAttribute("aria-valuemax",b),v.children[0].setAttribute("aria-valuenow",E),v.children[0].setAttribute("aria-valuetext",P)})})}function fe(r){if(r.mode===X.Range||r.mode===X.Steps)return x.xVal;if(r.mode===X.Count){if(r.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=r.values-1,n=100/i,l=[];i--;)l[i]=i*n;return l.push(100),Mt(l,r.stepped)}return r.mode===X.Positions?Mt(r.values,r.stepped):r.mode===X.Values?r.stepped?r.values.map(function(c){return x.fromStepping(x.getStep(x.toStepping(c)))}):r.values:[]}function Mt(r,i){return r.map(function(n){return x.fromStepping(i?x.getStep(n):n)})}function de(r){function i(E,P){return Number((E+P).toFixed(7))}var n=fe(r),l={},c=x.xVal[0],u=x.xVal[x.xVal.length-1],v=!1,f=!1,b=0;return n=Me(n.slice().sort(function(E,P){return E-P})),n[0]!==c&&(n.unshift(c),v=!0),n[n.length-1]!==u&&(n.push(u),f=!0),n.forEach(function(E,P){var k,w,D,z=E,U=n[P+1],O,Et,Ct,yt,jt,At,Tt,Nt=r.mode===X.Steps;for(Nt&&(k=x.xNumSteps[P]),k||(k=U-z),U===void 0&&(U=z),k=Math.max(k,1e-7),w=z;w<=U;w=i(w,k)){for(O=x.toStepping(w),Et=O-b,jt=Et/(r.density||1),At=Math.round(jt),Tt=Et/At,D=1;D<=At;D+=1)Ct=b+D*Tt,l[Ct.toFixed(5)]=[x.fromStepping(Ct),0];yt=n.indexOf(w)>-1?_.LargeValue:Nt?_.SmallValue:_.NoValue,!P&&v&&w!==U&&(yt=0),w===U&&f||(l[O.toFixed(5)]=[w,yt]),b=O}}),l}function he(r,i,n){var l,c,u=$.createElement("div"),v=(l={},l[_.None]="",l[_.NoValue]=t.cssClasses.valueNormal,l[_.LargeValue]=t.cssClasses.valueLarge,l[_.SmallValue]=t.cssClasses.valueSub,l),f=(c={},c[_.None]="",c[_.NoValue]=t.cssClasses.markerNormal,c[_.LargeValue]=t.cssClasses.markerLarge,c[_.SmallValue]=t.cssClasses.markerSub,c),b=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],E=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];I(u,t.cssClasses.pips),I(u,t.ort===0?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical);function P(w,D){var z=D===t.cssClasses.value,U=z?b:E,O=z?v:f;return D+" "+U[t.ort]+" "+O[w]}function k(w,D,z){if(z=i?i(D,z):z,z!==_.None){var U=N(u,!1);U.className=P(z,t.cssClasses.marker),U.style[t.style]=w+"%",z>_.NoValue&&(U=N(u,!1),U.className=P(z,t.cssClasses.value),U.setAttribute("data-value",String(D)),U.style[t.style]=w+"%",U.innerHTML=String(n.to(D)))}}return Object.keys(r).forEach(function(w){k(w,r[w][0],r[w][1])}),u}function gt(){C&&(qt(C),C=null)}function pt(r){gt();var i=de(r),n=r.filter,l=r.format||{to:function(c){return String(Math.round(c))}};return C=h.appendChild(he(i,n,l)),C}function Ut(){var r=g.getBoundingClientRect(),i="offset"+["Width","Height"][t.ort];return t.ort===0?r.width||g[i]:r.height||g[i]}function Y(r,i,n,l){var c=function(v){var f=ve(v,l.pageOffset,l.target||i);if(!f||Dt()&&!l.doNotReject||Ie(h,t.cssClasses.tap)&&!l.doNotReject||r===o.start&&f.buttons!==void 0&&f.buttons>1||l.hover&&f.buttons)return!1;d||f.preventDefault(),f.calcPoint=f.points[t.ort],n(f,l)},u=[];return r.split(" ").forEach(function(v){i.addEventListener(v,c,d?{passive:!0}:!1),u.push([v,c])}),u}function ve(r,i,n){var l=r.type.indexOf("touch")===0,c=r.type.indexOf("mouse")===0,u=r.type.indexOf("pointer")===0,v=0,f=0;if(r.type.indexOf("MSPointer")===0&&(u=!0),r.type==="mousedown"&&!r.buttons&&!r.touches)return!1;if(l){var b=function(k){var w=k.target;return w===n||n.contains(w)||r.composed&&r.composedPath().shift()===n};if(r.type==="touchstart"){var E=Array.prototype.filter.call(r.touches,b);if(E.length>1)return!1;v=E[0].pageX,f=E[0].pageY}else{var P=Array.prototype.find.call(r.changedTouches,b);if(!P)return!1;v=P.pageX,f=P.pageY}}return i=i||$t($),(c||u)&&(v=r.clientX+i.x,f=r.clientY+i.y),r.pageOffset=i,r.points=[v,f],r.cursor=c||u,r}function Ot(r){var i=r-Oe(g,t.ort),n=i*100/Ut();return n=Yt(n),t.dir?100-n:n}function ge(r){var i=100,n=!1;return p.forEach(function(l,c){if(!ht(c)){var u=A[c],v=Math.abs(u-r),f=v===100&&i===100,b=v<i,E=v<=i&&r>u;(b||E||f)&&(n=c,i=v)}}),n}function pe(r,i){r.type==="mouseout"&&r.target.nodeName==="HTML"&&r.relatedTarget===null&&mt(r,i)}function me(r,i){if(navigator.appVersion.indexOf("MSIE 9")===-1&&r.buttons===0&&i.buttonsProperty!==0)return mt(r,i);var n=(t.dir?-1:1)*(r.calcPoint-i.startCalcPoint),l=n*100/i.baseSize;It(n>0,l,i.locations,i.handleNumbers,i.connect)}function mt(r,i){i.handle&&(ot(i.handle,t.cssClasses.active),ft-=1),i.listeners.forEach(function(n){rt.removeEventListener(n[0],n[1])}),ft===0&&(ot(h,t.cssClasses.drag),bt(),r.cursor&&(it.style.cursor="",it.removeEventListener("selectstart",Xt))),t.events.smoothSteps&&(i.handleNumbers.forEach(function(n){K(n,A[n],!0,!0,!1,!1)}),i.handleNumbers.forEach(function(n){V("update",n)})),i.handleNumbers.forEach(function(n){V("change",n),V("set",n),V("end",n)})}function xt(r,i){if(!i.handleNumbers.some(ht)){var n;if(i.handleNumbers.length===1){var l=p[i.handleNumbers[0]];n=l.children[0],ft+=1,I(n,t.cssClasses.active)}r.stopPropagation();var c=[],u=Y(o.move,rt,me,{target:r.target,handle:n,connect:i.connect,listeners:c,startCalcPoint:r.calcPoint,baseSize:Ut(),pageOffset:r.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:r.buttons,locations:A.slice()}),v=Y(o.end,rt,mt,{target:r.target,handle:n,listeners:c,doNotReject:!0,handleNumbers:i.handleNumbers}),f=Y("mouseout",rt,pe,{target:r.target,handle:n,listeners:c,doNotReject:!0,handleNumbers:i.handleNumbers});c.push.apply(c,u.concat(v,f)),r.cursor&&(it.style.cursor=getComputedStyle(r.target).cursor,p.length>1&&I(h,t.cssClasses.drag),it.addEventListener("selectstart",Xt,!1)),i.handleNumbers.forEach(function(b){V("start",b)})}}function xe(r){r.stopPropagation();var i=Ot(r.calcPoint),n=ge(i);n!==!1&&(t.events.snap||Wt(h,t.cssClasses.tap,t.animationDuration),K(n,i,!0,!0),bt(),V("slide",n,!0),V("update",n,!0),t.events.snap?xt(r,{handleNumbers:[n]}):(V("change",n,!0),V("set",n,!0)))}function Se(r){var i=Ot(r.calcPoint),n=x.getStep(i),l=x.fromStepping(n);Object.keys(T).forEach(function(c){c.split(".")[0]==="hover"&&T[c].forEach(function(u){u.call(st,l)})})}function we(r,i){if(Dt()||ht(i))return!1;var n=["Left","Right"],l=["Down","Up"],c=["PageDown","PageUp"],u=["Home","End"];t.dir&&!t.ort?n.reverse():t.ort&&!t.dir&&(l.reverse(),c.reverse());var v=r.key.replace("Arrow",""),f=v===c[0],b=v===c[1],E=v===l[0]||v===n[0]||f,P=v===l[1]||v===n[1]||b,k=v===u[0],w=v===u[1];if(!E&&!P&&!k&&!w)return!0;r.preventDefault();var D;if(P||E){var z=E?0:1,U=Rt(i),O=U[z];if(O===null)return!1;O===!1&&(O=x.getDefaultStep(A[i],E,t.keyboardDefaultStep)),b||f?O*=t.keyboardPageMultiplier:O*=t.keyboardMultiplier,O=Math.max(O,1e-7),O=(E?-1:1)*O,D=j[i]+O}else w?D=t.spectrum.xVal[t.spectrum.xVal.length-1]:D=t.spectrum.xVal[0];return K(i,x.toStepping(D),!0,!0),V("slide",i),V("update",i),V("change",i),V("set",i),!1}function zt(r){r.fixed||p.forEach(function(i,n){Y(o.start,i.children[0],xt,{handleNumbers:[n]})}),r.tap&&Y(o.start,g,xe,{}),r.hover&&Y(o.move,g,Se,{hover:!0}),r.drag&&M.forEach(function(i,n){if(!(i===!1||n===0||n===M.length-1)){var l=p[n-1],c=p[n],u=[i],v=[l,c],f=[n-1,n];I(i,t.cssClasses.draggable),r.fixed&&(u.push(l.children[0]),u.push(c.children[0])),r.dragAll&&(v=p,f=B),u.forEach(function(b){Y(o.start,b,xt,{handles:v,handleNumbers:f,connect:i})})}})}function St(r,i){T[r]=T[r]||[],T[r].push(i),r.split(".")[0]==="update"&&p.forEach(function(n,l){V("update",l)})}function be(r){return r===q.aria||r===q.tooltips}function Z(r){var i=r&&r.split(".")[0],n=i?r.substring(i.length):r;Object.keys(T).forEach(function(l){var c=l.split(".")[0],u=l.substring(c.length);(!i||i===c)&&(!n||n===u)&&(!be(u)||n===u)&&delete T[l]})}function V(r,i,n){Object.keys(T).forEach(function(l){var c=l.split(".")[0];r===c&&T[l].forEach(function(u){u.call(st,j.map(t.format.to),i,j.slice(),n||!1,A.slice(),st)})})}function nt(r,i,n,l,c,u,v){var f;return p.length>1&&!t.events.unconstrained&&(l&&i>0&&(f=x.getAbsoluteDistance(r[i-1],t.margin,!1),n=Math.max(n,f)),c&&i<p.length-1&&(f=x.getAbsoluteDistance(r[i+1],t.margin,!0),n=Math.min(n,f))),p.length>1&&t.limit&&(l&&i>0&&(f=x.getAbsoluteDistance(r[i-1],t.limit,!1),n=Math.min(n,f)),c&&i<p.length-1&&(f=x.getAbsoluteDistance(r[i+1],t.limit,!0),n=Math.max(n,f))),t.padding&&(i===0&&(f=x.getAbsoluteDistance(0,t.padding[0],!1),n=Math.max(n,f)),i===p.length-1&&(f=x.getAbsoluteDistance(100,t.padding[1],!0),n=Math.min(n,f))),v||(n=x.getStep(n)),n=Yt(n),n===r[i]&&!u?!1:n}function wt(r,i){var n=t.ort;return(n?i:r)+", "+(n?r:i)}function It(r,i,n,l,c){var u=n.slice(),v=l[0],f=t.events.smoothSteps,b=[!r,r],E=[r,!r];l=l.slice(),r&&l.reverse(),l.length>1?l.forEach(function(k,w){var D=nt(u,k,u[k]+i,b[w],E[w],!1,f);D===!1?i=0:(i=D-u[k],u[k]=D)}):b=E=[!0];var P=!1;l.forEach(function(k,w){P=K(k,n[k]+i,b[w],E[w],!1,f)||P}),P&&(l.forEach(function(k){V("update",k),V("slide",k)}),c!=null&&V("drag",v))}function _t(r,i){return t.dir?100-r-i:r}function Ee(r,i){A[r]=i,j[r]=x.fromStepping(i);var n=_t(i,0)-ie,l="translate("+wt(n+"%","0")+")";if(p[r].style[t.transformRule]=l,t.events.invertConnects&&A.length>1){var c=A.every(function(u,v,f){return v===0||u>=f[v-1]});if(J!==!c){Ve();return}}Q(r),Q(r+1),J&&(Q(r-1),Q(r+2))}function bt(){B.forEach(function(r){var i=A[r]>50?-1:1,n=3+(p.length+i*r);p[r].style.zIndex=String(n)})}function K(r,i,n,l,c,u){return c||(i=nt(A,r,i,n,l,!1,u)),i===!1?!1:(Ee(r,i),!0)}function Q(r){if(M[r]){var i=A.slice();J&&i.sort(function(f,b){return f-b});var n=0,l=100;r!==0&&(n=i[r-1]),r!==M.length-1&&(l=i[r]);var c=l-n,u="translate("+wt(_t(n,c)+"%","0")+")",v="scale("+wt(c/100,"1")+")";M[r].style[t.transformRule]=u+" "+v}}function Ht(r,i){return r===null||r===!1||r===void 0||(typeof r=="number"&&(r=String(r)),r=t.format.from(r),r!==!1&&(r=x.toStepping(r)),r===!1||isNaN(r))?A[i]:r}function at(r,i,n){var l=ut(r),c=A[0]===void 0;i=i===void 0?!0:i,t.animate&&!c&&Wt(h,t.cssClasses.tap,t.animationDuration),B.forEach(function(f){K(f,Ht(l[f],f),!0,!1,n)});var u=B.length===1?0:1;if(c&&x.hasNoSize()&&(n=!0,A[0]=0,B.length>1)){var v=100/(B.length-1);B.forEach(function(f){A[f]=f*v})}for(;u<B.length;++u)B.forEach(function(f){K(f,A[f],!0,!0,n)});bt(),B.forEach(function(f){V("update",f),l[f]!==null&&i&&V("set",f)})}function Ce(r){at(t.start,r)}function ye(r,i,n,l){if(r=Number(r),!(r>=0&&r<B.length))throw new Error("noUiSlider: invalid handle number, got: "+r);K(r,Ht(i,r),!0,!0,l),V("update",r),n&&V("set",r)}function Bt(r){if(r===void 0&&(r=!1),r)return j.length===1?j[0]:j.slice(0);var i=j.map(t.format.to);return i.length===1?i[0]:i}function Ae(){for(Z(q.aria),Z(q.tooltips),Object.keys(t.cssClasses).forEach(function(r){ot(h,t.cssClasses[r])});h.firstChild;)h.removeChild(h.firstChild);delete h.noUiSlider}function Rt(r){var i=A[r],n=x.getNearbySteps(i),l=j[r],c=n.thisStep.step,u=null;if(t.snap)return[l-n.stepBefore.startValue||null,n.stepAfter.startValue-l||null];c!==!1&&l+c>n.stepAfter.startValue&&(c=n.stepAfter.startValue-l),l>n.thisStep.startValue?u=n.thisStep.step:n.stepBefore.step===!1?u=!1:u=l-n.stepBefore.highestStep,i===100?c=null:i===0&&(u=null);var v=x.countStepDecimals();return c!==null&&c!==!1&&(c=Number(c.toFixed(v))),u!==null&&u!==!1&&(u=Number(u.toFixed(v))),[u,c]}function Pe(){return B.map(Rt)}function ke(r,i){var n=Bt(),l=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];l.forEach(function(u){r[u]!==void 0&&(a[u]=r[u])});var c=te(a);l.forEach(function(u){r[u]!==void 0&&(t[u]=c[u])}),x=c.spectrum,t.margin=c.margin,t.limit=c.limit,t.padding=c.padding,t.pips?pt(t.pips):gt(),t.tooltips?Lt():vt(),A=[],at(Pt(r.start)?r.start:n,i),r.connect&&Ft()}function Ft(){for(;S.firstChild;)S.removeChild(S.firstChild);for(var r=0;r<=t.handles;r++)M[r]=dt(S,t.connect[r]),Q(r);zt({drag:t.events.drag,fixed:!0})}function Ve(){J=!J,Zt(t,t.connect.map(function(r){return!r})),Ft()}function De(){g=se(h),ae(t.connect,g),zt(t.events),at(t.start),t.pips&&pt(t.pips),t.tooltips&&Lt(),ue()}De();var st={destroy:Ae,steps:Pe,on:St,off:Z,get:Bt,set:at,setHandle:ye,reset:Ce,disable:le,enable:ce,__moveHandles:function(r,i,n){It(r,i,A,n)},options:a,updateOptions:ke,target:h,removePips:gt,removeTooltips:vt,getPositions:function(){return A.slice()},getTooltips:function(){return F},getOrigins:function(){return p},pips:pt};return st}function hr(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var a=te(t),o=dr(e,a,t);return e.noUiSlider=o,o}const vr={__spectrum:Gt,cssClasses:Jt,create:hr};let m,H,L=[],y=-1,ct=!1,ee=0,re=0,tt,G=null;function gr(){const e=document.getElementById("textInput").value;if(e){const t=m.width/2,a=m.height/2;L.push({text:e,x:t,y:a,color:document.getElementById("textColor").value,size:parseInt(document.getElementById("textSize").value)}),document.getElementById("textInput").value="",W(),console.log("Текстовый элемент добавлен:",{text:e,x:t,y:a})}}function pr(){if(y!==-1){const e=L.splice(y,1);y=-1,W(),console.log("Текстовый элемент удален:",e)}}function mr(){const e=document.getElementById("formatSelect").value,t=parseInt(tt.noUiSlider.get())/100;if(e&&t>=.1&&t<=1){const a=document.createElement("canvas"),o=a.getContext("2d");a.width=G.width,a.height=G.height,o.drawImage(G,0,0,a.width,a.height),L.forEach(h=>{const g=a.width/m.width,S=a.height/m.height;o.font=`${h.size*g}px Arial`,o.fillStyle=h.color,o.textAlign="center",o.textBaseline="middle",o.fillText(h.text,h.x*g,h.y*S)});const s=a.toDataURL(`image/${e}`,t),d=document.createElement("a");d.href=s,d.download=`certificate.${e}`,d.click()}else alert("Пожалуйста, выберите корректное качество (от 10 до 100).")}function xr(e){if(y!==-1){const t=L[y],a=H.measureText(t.text).width,o=t.size;switch(e){case"top-left":t.x=a/2,t.y=o/2;break;case"top-center":t.x=m.width/2,t.y=o/2;break;case"top-right":t.x=m.width-a/2,t.y=o/2;break;case"center-left":t.x=a/2,t.y=m.height/2;break;case"center":t.x=m.width/2,t.y=m.height/2;break;case"center-right":t.x=m.width-a/2,t.y=m.height/2;break;case"bottom-left":t.x=a/2,t.y=m.height-o/2;break;case"bottom-center":t.x=m.width/2,t.y=m.height-o/2;break;case"bottom-right":t.x=m.width-a/2,t.y=m.height-o/2;break}W(),console.log("Текстовый элемент позиционирован:",e)}}document.addEventListener("DOMContentLoaded",()=>{var t,a,o,s,d,h;Sr(),(t=document.getElementById("addTextButton"))==null||t.addEventListener("click",gr),(a=document.getElementById("deleteTextButton"))==null||a.addEventListener("click",pr),(o=document.getElementById("saveImageButton"))==null||o.addEventListener("click",mr),(s=document.getElementById("textColor"))==null||s.addEventListener("input",()=>{y!==-1&&(L[y].color=document.getElementById("textColor").value,W(),console.log("Цвет текста изменен:",L[y].color))}),(d=document.getElementById("textSize"))==null||d.addEventListener("input",()=>{y!==-1&&(L[y].size=parseInt(document.getElementById("textSize").value),W(),console.log("Размер текста изменен:",L[y].size))}),tt=document.getElementById("qualitySlider"),tt&&(vr.create(tt,{start:[80],range:{min:0,max:100},step:1}),tt.noUiSlider.on("update",g=>{document.getElementById("qualityValue").textContent=g[0],console.log("Качество изображения изменено:",g[0])})),(h=document.getElementById("uploadForm"))==null||h.addEventListener("submit",function(g){g.preventDefault();const S=document.getElementById("imageUpload").files[0];if(!S){alert("Пожалуйста, выберите файл.");return}const p=new FileReader;p.onload=function(M){const C=new Image;C.src=M.target.result,C.onload=function(){const F=C.height/C.width;m.width=800,m.height=m.width*F,H.drawImage(C,0,0,m.width,m.height),G=C,W(),document.getElementById("editor").style.display="block",console.log("Изображение загружено:",C.src)},C.onerror=function(){alert("Ошибка загрузки изображения.")}},p.readAsDataURL(S)}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(g=>{console.log("ServiceWorker зарегистрирован:",g)}).catch(g=>{console.log("Ошибка регистрации ServiceWorker:",g)}),["top-left","top-center","top-right","center-left","center","center-right","bottom-left","bottom-center","bottom-right"].forEach(g=>{var S;(S=document.getElementById(`position-${g}`))==null||S.addEventListener("click",()=>{xr(g)})})});function Sr(){m=document.getElementById("canvas"),m&&(H=m.getContext("2d"),m.width=800,m.height=600,m.addEventListener("mousedown",wr),m.addEventListener("mousemove",br),m.addEventListener("mouseup",Er))}function wr(e){e.preventDefault();const t=m.getBoundingClientRect(),a=e.clientX-t.left,o=e.clientY-t.top;L.forEach((s,d)=>{const h=H.measureText(s.text).width,g=s.size;a>=s.x-h/2&&a<=s.x+h/2&&o>=s.y-g/2&&o<=s.y+g/2&&(y=d,ct=!0,ee=a-s.x,re=o-s.y,console.log("Текстовый элемент выбран:",s.text))}),y===-1&&(ct=!1,console.log("Клик вне текстового элемента. Выделение снято.")),W()}function br(e){if(ct&&y!==-1){const t=m.getBoundingClientRect(),a=e.clientX-t.left,o=e.clientY-t.top;L[y].x=a-ee,L[y].y=o-re;const s=H.measureText(L[y].text).width,d=L[y].size;L[y].x=Math.max(s/2,Math.min(L[y].x,m.width-s/2)),L[y].y=Math.max(d/2,Math.min(L[y].y,m.height-d/2)),console.log("Текстовый элемент перемещен:",{x:L[y].x,y:L[y].y}),W()}}function Er(){ct=!1,console.log("Перемещение текста завершено.")}function W(){H.clearRect(0,0,m.width,m.height),G&&H.drawImage(G,0,0,m.width,m.height),L.forEach((e,t)=>{if(H.font=`${e.size}px Arial`,H.fillStyle=e.color,H.textAlign="center",H.textBaseline="middle",H.fillText(e.text,e.x,e.y),t===y){const a=H.measureText(e.text).width,o=e.size;H.strokeStyle="red",H.strokeRect(e.x-a/2,e.y-o/2,a,o)}})}
